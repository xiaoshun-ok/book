(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-request-relation"],{"36e3":function(e,t,n){"use strict";n.r(t);var i=n("f115"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=s.a},"5dec":function(e,t,n){"use strict";n.r(t);var i=n("c87f"),s=n("36e3");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);var u,r=n("f0c5"),o=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"05cf5001",null,!1,i["a"],u);t["default"]=o.exports},c87f:function(e,t,n){"use strict";var i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[e._l(e.requestRelationList,function(t,i){return[n("v-uni-view",{key:i+"_0",staticClass:"flexlist-item mgt-5"},[n("v-uni-image",{staticClass:"flexlist-img  flex flex-jc-center flex-ai-center",attrs:{src:e.requestRelationUserInfo[t.send_id]?e.requestRelationUserInfo[t.send_id].figureurl:""}}),n("v-uni-view",{staticClass:"flex-1 "},[n("v-uni-view",{staticClass:"cl1 f18 mgt-10"},[e._v(e._s(e.requestRelationUserInfo[t.send_id]?e.requestRelationUserInfo[t.send_id].nickname:""))]),n("v-uni-view",{staticClass:"cl2 "},[e._v(e._s(t.message))])],1),n("v-uni-view",{staticClass:"flex-jc-center flex-ai-center ",staticStyle:{display:"flex"}},[n("v-uni-view",{staticClass:"btn-small  bg-success",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleRelation(t.send_id,i,"agree")}}},[e._v("同意")]),n("v-uni-view",{staticClass:"btn-small mgl-10 bg-danger",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleRelation(t.send_id,i,"refuse")}}},[e._v("拒绝")])],1)],1)]}),e.hasList?[n("v-uni-view",[e._v("无新用户申请,反回没有事件")]),e.hasList?n("v-uni-button",{attrs:{type:"primary"}},[e._v("点击返回")]):e._e()]:e._e()],2)},a=[];n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i})},f115:function(e,t,n){"use strict";var i=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("f499"));n("a481");var a=n("b7c4"),u={data:function(){return{}},computed:{requestRelationList:function(){return this.$store.state.chat.requestRelationList},requestRelationUserInfo:function(){return this.$store.state.chat.requestRelationUserInfo},user_info:function(){return this.$store.state.chat.user_info},hasList:function(){return!this.requestRelationList.length}},onShow:function(){if(this.$store.state.chat.isOnline){if(0===this.requestRelationList.length){var e=getCurrentPages();e.length>1&&this.user_info.id?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})}this.getRequestRelationUserInfo()}else uni.reLaunch({url:"/pages/index/index"})},methods:{handleRelation:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"agree";e=1*e.replace(/_chat_new_/,"");var i=this,u={module:a.SocketModul,action:"manageRelation",data:{send_id:this.user_info.id,receive_id:e,handle:n}};uni.sendSocketMessage({data:(0,s.default)(u),success:function(){i.$store.commit("removeRequestRelationList",t)},fail:function(){i.$store.commit("changeSocket",!1)}})},getRequestRelationUserInfo:function(){var e=this.requestRelationList.map(function(e){return e.send_id}),t=this,n={module:a.SocketModul,action:"getUserList",data:{type:"receiveRequestRelationUserInfo",list:e}};uni.sendSocketMessage({data:(0,s.default)(n),success:function(e){},fail:function(){t.$store.commit("changeSocket",!1)}})}}};t.default=u}}]);